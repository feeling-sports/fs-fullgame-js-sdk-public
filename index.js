var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{A:()=>f});var n={debug:!1};function r(e,t){var r;if(function(e){return e&&e.data&&e.data.channel&&"FS"===e.data.channel}(e))if(!0===e.data.forwaded&&e.data.data&&t){var a=e.data.data.split("@@@");if(!a&&2!=a.length&&a.action)return;var o=JSON.parse(a[1]);n.debug&&o&&console.log("transfer message from game to callback",o),t(o)}else n.debug&&e.data&&console.log("Handle message within the SDK",e.data),"openurl"==(r=e.data).method&&r.infos&&r.infos.url&&window.open(r.infos.url,"_blank").focus()}function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,i=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=new Array<{url:String,id:Number}>[],c=new Map,u="data-game-id";function d(e){var t=e.getAttribute(u),r=l.find((function(e){return t==e.id}));n.debug&&r&&console.log("Game found",r);var a=function(e,t){var n=parseInt(e),r=c.get(n);r.set("sdkjs","1"),r.set("origin","sdk");var a=Array.from(c.get(n)).map((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o,i,l=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}(t,n)||o(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],i=r[1];return"".concat(encodeURIComponent(a),"=").concat(encodeURIComponent(i))})).join("&");return t.includes("?")?"".concat(t,"&").concat(a):"".concat(t,"?").concat(a)}(t,r.url);e.innerHTML='<iframe id="fs-ifullgame" width="100%" height="100%" src="'.concat(a,'" \n    frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="auto" allow="clipboard-write"></iframe>'),n.debug&&console.log("Insert iframe in",e)}function s(e){new MutationObserver((function(t){var n,r=a(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;"attributes"===o.type&&o.attributeName===u&&d(e)}}catch(e){r.e(e)}finally{r.f()}})).observe(e,{attributes:!0,childList:!1,subtree:!1})}const f={initialize:function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.debug=i,n.debug&&console.log("SDK initialisation started"),t&&t!=[]?(l=t,function(e){e.forEach((function(e){c.set("string"==typeof e.id?parseInt(e.id):e.id,new Map)})),n.debug&&e&&console.log("Initialisation game extras parameters map",c)}(t),n.debug&&o&&console.log("client callback provided"),function(e){new MutationObserver((function(t){var n,r=a(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if("childList"===o.type){var i,l=a(o.addedNodes);try{for(l.s();!(i=l.n()).done;){var c=i.value;c.nodeType===Node.ELEMENT_NODE&&c.id===e&&(s(c),d(c))}}catch(e){l.e(e)}finally{l.f()}}}}catch(e){r.e(e)}finally{r.f()}})).observe(document.body,{childList:!0,subtree:!0})}(e),function(e){window.addEventListener?(n.debug&&console.log("Add addEventListener message"),window.addEventListener("message",(function(t){r(t,e)}),!1)):window.attachEvent&&(n.debug&&console.log("Add window attachEvent onmessage"),window.attachEvent("onmessage",(function(t){r(t,e)}),!1))}(o),n.debug&&console.log("SDK initialisation succeeded")):console.error("Please provide a game list")},setMapExtrasParameters:function(e,t){c.set("string"==typeof e?parseInt(e):e,t)}};var g=t.A;export{g as default};